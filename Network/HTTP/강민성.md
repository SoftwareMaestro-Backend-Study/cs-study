### HTTP 특징

- 클라이언트-서버 구조
    - 클라이언트가 서버에게 전송하는 메시지를 요청(Request)라고 부르며, 서버가 요청에 대한 결과를 만들어서 전송하는 메시지를 응답(Response)라고 한다.
- Connectionless
    - 클라이언트가 서버에 요청을 보내고 서버가 클라이언트에게 응답을 보내면 바로 연결을 끊는다.
- Stateless
    - 서버는 클라이언트의 상태를 저장하지 않는 무상태 프로토콜
        - 서버는 클라이언트가 이전에 했던 요청이 무엇인지에 대해 상관없이 응답을 한다는 뜻이다.
    - 연결을 끊는 순간 클라이언트와 서버의 통신은 끝나며 상태 정보를 유지하지 않는다.
- HTTP Message
    - 클라이언트와 서버간에 데이터가 교환되는 방식이다. 요청(request)는 클라이언트가 서버로 전달하는 메시지이고, 응답(response)은 요청에 대한 서버의 답변이다.
    <img width="749" alt="image" src="https://github.com/SoftwareMaestro-Backend-Study/cs-study/assets/71378475/ce0a1a88-018c-4bee-92e7-ac67b2a917c6">
    <br/>
    <img width="771" alt="image" src="https://github.com/SoftwareMaestro-Backend-Study/cs-study/assets/71378475/911e0d03-1d05-4cdd-b1ed-ab1d5f3f23d3">
    
    - request
      - HTTP 메서드 : 서버가 수행해야할 동작 ex) GET, POST, PUT, DELETE...
      - 요청 대상 : URL, 프로토콜, 포트, 도메인의 절대 경로로 나타낼수 있다.
      - HTTP 버전

    - reponse
      - HTTP 버전
      - HTTP 상태 코드 : 요청의 성공 여부 ex) 200 : 성공, 400 : 클라이언트 요청 오류, 500 : 서버 내부 오류
      - 이유 문구 : 사람이 이해할 수 있는 짧은 상태 코드 설명
    
    <br/>
    <img width="762" alt="image" src="https://github.com/SoftwareMaestro-Backend-Study/cs-study/assets/71378475/fc4fe0d6-f912-4ded-a4f6-e17a4ab1d7d8">   
    
    - 구조 : field-name ":" OWS field-value OWS (OWS:띄어쓰기 허용)
    - 용도 : HTTP 전송에 필요한 모든 부가 정보 포함
      - ex) 메시지 바디의 내용, 메시지 바디의 크기, 압축, 인증, 요청 클라이언트 정보 등등
    
    <br/>
    <img width="340" alt="image" src="https://github.com/SoftwareMaestro-Backend-Study/cs-study/assets/71378475/5c6c8ad6-b38c-4e41-aa96-50c206690e18">
   
    -  용도 : 실제 전송할 데이터 → HTML 문서, 이미지, 영상, JSON 등등 byte로 표현할 수 있는 모든 데이터

<br/>

### HTTP

- www 상에서 데이터를 주고 받을 수 있는 프로토콜
- 클라이언트와 서버 사이에 이루어지는 요청/응답 프로토콜
- 주로 HTML 문서를 주고 받는데 사용
- TCP, UDP를 사용하며, 포트 번호는 80 사용

<br/>

### HTTP 메서드

- GET
    - 서버에게 리소스 조회를 요청할 때 사용
    - 서버에게 전달하고 싶은 데이터는 Query Parameter를 통해 전달
    - Message Body를 통해 데이터를 전달할 수 있지만, 지원하지 않는 서버가 많아 권장하지 않는다.
- POST
    - 서버에게 요청 데이터를 전달할 때 사용, 서버는 요청 데이터 처리
    - Message Body를 통해 데이터를 전달
    - URL에 데이터가 노출되지 않는다.
- PUT
    - 서버가 이미 요청의 리소스를 가지고 있으면 기존 리소스를 삭제하고 덮어쓰고, 해당 리소스가 없으면 생성한다.
    - 클라이언트가 리소스의 위치를 알고 URI를 지정해주어야 한다.
- PATCH
    - 리소스를 부분적으로 변경할 때 사용
- DELETE
    - 특정 리소스를 삭제를 요청할 때 사용
- 그외 메서드
    - HEAD : GET과 동일하지만, 메시지 바디 부분을 제외하고, Start-line과 메시지 헤더만 조회할 때 사용한다.
    - OPTIONS : 대상 리소스에서 지원되는 메소드의 종류를 확인할 경우 사용한다.
    - CONNECT : 대상 자원으로 식별되는 서버에 대한 터널을 설정할 때 사용한다.
    - TRACE : 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행할 때 사용한다.

<br/>

### HTTP 메서드의 속성

- 안전
    - 메소드를 여러번 호출해도 리소스가 변경되지 않는 것을 의미
    - GET, HEAD, OPTIONS, TRACE
- 멱등
    - 동일한 요청을 한 번 보내는 것과 여러번 보내는 것이 같은 결과를 보이고, 서버의 상태도 동일할 때
    - GET, HEAD, PUT, DELETE, OPTIONS, TRACE
- 캐시가능
    - 재사용을 위해 응답 결과 리소스를 저장할 수 있음을 의미
    - GET, HEAD, POST, PATCH

<br/>

### HTTP 상태코드

- 1xx (Informational) : 서버는 클라리언트의 요청을 받았으며, 클라이언트는 작업을 계속 진행하라는 의미이다.
- 2xx (Successful) : 클라이언트의 요청을 수신하고 성공적으로 처리했음을 의미한다.
- 3xx (Redirection) : 클라이언트는 요청을 마치기 위하여 추가적인 동작을 취해야 한다는 것을 의미한다.
- 4xx (Client Error) : 클라이언트의 요청에 잘못된 문법 등으로 서버가 응답을 할 수 없음을 의미한다. 클라이언트가 잘못된 요청, 데이터를 보내고 있기 때문에 똑같은 요청을 재시도하더라도 실패한다.
- 5xx (Server Error) : 서버 문제로 인해 오류가 발생하는 경우 사용된다. 서버 문제가 복구되거나 해결되면 똑같은 요청을 재시도하면 성공할 수 있다.

<br/>

### HTTPS

- HTTP의 보안상 문제를 해결하기 위해 등장한 프로토콜
    - HTTP는 텍스트로 정보를 주고 받기 때문에 네트워크를 가로챈다면 내용이 유출되는 보안 이슈가 있다.
- SSL, TLS(SSL의 최신 버전)을 이용해 암호화하여 주고받는다.
    - 응용계층 및 전송계층 사이에 위치
    - 모든 HTTP 요청과 응답 데이터는 네트워크로 보내지기 전에 전송계층, 응용계층 사이에서 암호화가 된다.
    - HTTP Body만 암호화를 진행하고 Header는 암호화하지 않는다.
- 443 포트를 이용한다.
- 단점
    - 암호화 추가 비용이 발생
    - 암호화 과정에서 웹 서버에 부하 발생

<br/>

### keep-alive 헤더

- HTTP는 Connectionless 특징으로 인해 매번 커넥션을 끊고 새로 생성하는 특징이 있다.
- keep-alive : 특정 시간까지 커넥션을 유지하는 헤더
- HTTP 1.1는 기본적으로 keep-alive를 지원한다.

<br/>

### HTTP 1.0 vs 1.1 vs 2.0

- HTTP 1.0
    - 요청 컨첸츠마다 TCP 커넥션을 맺고 끊음을 반복한다.
    - 요청1 → 응답1 → 요청2 → 응답2 순으로 순차적으로 진행, 응답을 받아야 다음 작업을 할 수 있다.
- HTTP 1.1
    - 매 요청마다 TCP 커넥션을 맺고 끊음을 반복하지 않고 keep-alive를 통해 일정 시간동안 커넥션을 유지한다.
    - 클라이언트는 각 요청에 대한 응답을 기다리지 않고 여러개의 요청을 연속적으로 보낸다.
- HTTP 2.0
    - 하나의 커넥션으로 동시에 여러 개의 메시지를 주고 받을 수 있고, response는 순서에 상관없이 stream으로 주고 받는다.
    - 서버 푸시 : 서버는 클라이언트의 요청에 대해 요청하지 않는 리소스도 마음대로 보낼 수 있다.
    - 헤더 압축 : Header의 내용과 중복되는 필드를 재전송하지 않아 데이터를 절약한다.
