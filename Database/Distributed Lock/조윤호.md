# [Database] Distributed Lock - 조윤호

# Distributed Lock
- 분산 서버 환경에서 동시성을 처리하기 위한 방법
- 경쟁 상황(Race Condition) 이 발생할때, 하나의 공유자원에 접근할때 데이터에 결함이 발생하지 않도록 원자성(atomic) 을 보장하는 기법

### 지원 서비스
- Redis
- Mysql
- ZooKeeper

# Redis Distributed Lock
- Lettuce
- Redisson

## Redission
- Lock Interface 지원
- Pub/Sup 패턴


### 요구사항
- 분산락을 도입하며 보다 손쉽고 효율적으로 사용할 수 없을까? 라는 고민을 시작으로 몇 가지 규칙을 만들었습니다.
- 분산락 처리 로직은 비즈니스 로직이 오염되지 않게 분리해서 사용한다.
- waitTime, leaseTime을 커스텀 하게 지정 가능하다.
- 락의 name에 대해 사용자로부터 커스텀 하게 받아 처리한다.
- 추가 요구사항에 대해서 공통으로 관리한다.

- 오직 한 순간에 하나의 작업자만이 락(lock) 을 걸 수 있다.
- 락 이후, 어떠한 문제로 인해 락을 풀지 못하고, 종료된 경우라도 다른 작업자가 락을 획득할 수 있어야합니다.
- Redis 노드가 작동하는한, 모든 작업자는 락을 걸고 해체할 수 있어야합니다.
